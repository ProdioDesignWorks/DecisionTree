'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.loadModel=exports.persistModel=void 0;var _fs=require('fs'),_fs2=_interopRequireDefault(_fs),_constants=require('../constants'),_utilities=require('../utilities');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var fileExists=function(a){try{return _fs2.default.accessSync(a,_fs2.default.constants.F_OK),!0}catch(a){return!1}},createFile=function(a){return _fs2.default.closeSync(_fs2.default.openSync(a,'w'))},writeFile=function(a,b){return _fs2.default.writeFileSync(a,b)},readFile=function(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return b?JSON.parse(_fs2.default.readFileSync(a,'utf8')):_fs2.default.readFileSync(a,'utf8')},persistModel=exports.persistModel=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];b&&(0,_utilities.log)('Model file path: '+_constants.MODEL_PATH);var c=fileExists(_constants.MODEL_PATH);b&&(0,_utilities.log)('Model file exists: '+c),writeFile(_constants.MODEL_PATH,JSON.stringify(a)),c?(writeFile(_constants.MODEL_PATH,JSON.stringify(a)),b&&(0,_utilities.log)('Model persisted')):(b&&(0,_utilities.log)('Model file created'),writeFile(_constants.MODEL_PATH,JSON.stringify(a)),b&&(0,_utilities.log)('Model persisted'))},loadModel=exports.loadModel=function(){var a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];a&&(0,_utilities.log)('Model file path: '+_constants.MODEL_PATH);var b=fileExists(_constants.MODEL_PATH);return a&&(0,_utilities.log)('Model file exists: '+b),b?readFile(_constants.MODEL_PATH,!0):{}};